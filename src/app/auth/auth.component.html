<div class="auth-page">
  <div class="container page">
    <div class="row">

      <div class="col-md-6 offset-md-3 col-xs-12">
        <h1 class="text-xs-center">
          {{ title }}
        </h1>

        <p class="text-xs-center">
          <a routerLink="/login" *ngIf="authType == 'register'">
            Have an account?
          </a>

          <a routerLink="/register" *ngIf="authType == 'login'">
            Need an account?
          </a>
        </p>

        <form [formGroup]="authForm" (ngSubmit)="submitForm()">
          <fieldset>
          <!--
            + formGroup: represents ReactiveForm
            + formControlName: contains data of <input-field>
           -->
            <!-- error message -->
            <div *ngIf="!messageError?.login?.success" class="text-danger">
              {{ messageError.login?.msg }}
            </div>

            <fieldset class="form-group">
              <!-- authType=register => form will appear -->
              <input *ngIf="authType === 'register'"
                  type="text" name="name"
                  formControlName="username"
                  placeholder="Username"
                  class="form-control form-control-lg"
                  [ngClass]="{'is-invalid': submitted && f.username.status === 'INVALID' }">

              <!-- error message -->
              <div *ngIf="!messageError?.username?.success" class="text-danger">
                {{ messageError.username?.msg }}
              </div>
            </fieldset>

            <fieldset class="form-group">
              <input type="email" name="email"
                  formControlName="email"
                  placeholder="Email"
                  class="form-control form-control-lg"
                  [ngClass]="{'is-invalid': submitted && f.email.status === 'INVALID' }">

              <!-- error message -->
              <div *ngIf="!messageError?.email?.success" class="text-danger">
                {{ messageError.email?.msg }}
              </div>
            </fieldset>

            <fieldset class="form-group">
              <input type="password"
                  formControlName="password"
                  placeholder="Password"
                  class="form-control form-control-lg"
                  [ngClass]="{'is-invalid': submitted && f.password.status === 'INVALID' }">
            </fieldset>

            <button type="submit" [disabled]='authForm.invalid'
                class="btn btn-lg btn-primary pull-xs-right">
              {{ title }}
              <div *ngIf="loading" class="spinner"></div>
            </button>
          </fieldset>
        </form>
      </div>
    </div>
  </div>
</div>
